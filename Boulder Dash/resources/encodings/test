closer(2, 22).
move(0) | move(1) | move(2) | move(3).

next(X,Y) :- move(1), player(X, Z), Y=Z-1.
next(X,Y) :- move(2), player(X, Z), Y=Z+1.
next(X,Y) :- move(3), player(Z, Y), X=Z-1.
next(X,Y) :- move(0), player(Z, Y), X=Z+1.
:- next(X,Y), rock(X,Y).
:- next(X,Y), wall(X,Y).
:- next(X,Y), rock(Z,Y), rock(A,Y), Z=X+1, A=X+2.
vector(X,Y) :- next(A,S), closer(1,10), A>=1, S>10, X=A-1, Y=S-10.
vector(X,Y) :- next(A,S), closer(1,10), A<1, S<10, X=1-A, Y=10-S.
vector(X,Y) :- next(A,S), closer(1,10), A>=1, S<10, X=A-1, Y=10-S.
vector(X,Y) :- next(A,S), closer(1,10), A<1, S>10, X=1-A, Y=S-10.
:~ vector(X,Y), N=X+Y. [N :1]
:~vector(X,Y). [X:1]